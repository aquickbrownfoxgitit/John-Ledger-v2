<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>John Ledger v3</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
<header class="app-header">
  <h1>John Ledger</h1>
  <p>Manual fiduciary tracking</p>
</header>

<main class="app">

  <nav class="tabs">
    <button class="tab active" data-tab="home">Home</button>
    <button class="tab" data-tab="history">History</button>
  </nav>

  <!-- HOME -->
  <section class="page active" id="home">
    <div class="card">
      <h2>Balances</h2>

      <div class="balances">
        <div class="balance readonly">
          <label>Savings</label>
          <div id="savingsDisplay">$0.00</div>
        </div>

        <div class="balance readonly">
          <label>MGO</label>
          <div id="mgoDisplay">$0.00</div>
        </div>

        <div class="balance readonly">
          <label>Fronted</label>
          <div id="frontedDisplay">$0.00</div>
          <button class="ghost" id="clearFronted">Clear Fronted</button>
        </div>
      </div>

      <hr />

      <h3>New Transaction</h3>

      <input type="date" id="entryDate" />

      <select id="txnType">
        <option value="">-- Select Type --</option>
        <option value="deposit">Deposit</option>
        <option value="debit">Debit</option>
        <option value="transfer">Transfer</option>
      </select>

      <div id="fromWrapper" style="display:none;">
        <select id="fromAcct">
          <option value="">-- From --</option>
          <option>Savings</option>
          <option>MGO</option>
          <option>Fronted</option>
        </select>
      </div>

      <div id="toWrapper" style="display:none;">
        <select id="toAcct">
          <option value="">-- To --</option>
          <option>Savings</option>
          <option>MGO</option>
          <option>Fronted</option>
        </select>
      </div>

      <input 
        id="entryAmt"
        type="text"
        inputmode="decimal"
        pattern="[0-9]*[.,]?[0-9]*"
        placeholder="Amount"
        autocomplete="off"
      />

      <input id="entryNote" placeholder="Note (required)" />

      <button id="addEntry">Add Entry</button>
    </div>
  </section>

  <!-- HISTORY -->
  <section class="page" id="history">
    <div class="card">
      <h2>History</h2>

      <div class="export">
        <input type="date" id="fromDate" />
        <input type="date" id="toDate" />

        <label style="display:flex; align-items:center; gap:6px;">
          <input type="checkbox" id="includeBalances" />
          Include running balances
        </label>

        <button id="exportCsv">Export CSV</button>
        <button class="ghost" id="archiveMonth">Archive Month</button>
      </div>

      <div id="historyList"></div>
    </div>
  </section>

</main>

<script src="app.js" defer></script>
</body>
</html>
